{"ast":null,"code":"import _toConsumableArray from \"/Users/matek/Desktop/myMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _taggedTemplateLiteral from \"/Users/matek/Desktop/myMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/matek/Desktop/myMovie/src/Components/sections/DisplaySection/DisplaySection.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  position: relative;\\n  background-color: rgb(10, 10, 10);\\n  box-shadow: 0 0 40px -20px #000;\\n  border-radius: 5px;\\n  padding: 25px;\\n\\n  ul {\\n    display: flex;\\n    flex-wrap: wrap;\\n    align-items: space-around;\\n    justify-content: space-around;\\n    width: 100%;\\n    padding: 0;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport MovieCard from \"../../MovieCard/MovieCard\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport { connect } from \"react-redux\";\nvar StyledWrapper = styled.section(_templateObject());\n\nvar DisplaySection = function DisplaySection(_ref) {\n  var movies = _ref.movies,\n      inputValue = _ref.inputValue,\n      currentPage = _ref.currentPage,\n      setCurrentPage = _ref.setCurrentPage,\n      fetchNextPage = _ref.fetchNextPage;\n  useEffect(function () {\n    setCurrentPage(movies, currentPage);\n  }, [movies]);\n  return React.createElement(React.Fragment, null, React.createElement(StyledWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, movies !== undefined && React.createElement(InfiniteScroll, {\n    element: \"ul\",\n    pageStart: 0,\n    loadMore: function loadMore() {\n      return fetchNextPage(inputValue, currentPage);\n    },\n    hasMore: true || false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, movies.map(function (movie, id) {\n    return React.createElement(MovieCard, {\n      id: id,\n      movie: movie,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    });\n  }))));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    movies: state.movies,\n    inputValue: state.inputValue,\n    currentPage: state.currentPage\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setCurrentPage: function setCurrentPage(movies, currentPage) {\n      if (movies !== undefined && movies.length > 10) {\n        dispatch({\n          type: \"SET_CURRENT_PAGE\",\n          number: currentPage + 1\n        });\n      } else if (movies !== undefined) {\n        dispatch({\n          type: \"SET_CURRENT_PAGE\",\n          number: 2\n        });\n      } else {\n        dispatch({\n          type: \"SET_CURRENT_PAGE\",\n          number: 1\n        });\n      }\n    },\n    fetchNextPage: function fetchNextPage(inputValue, currentPage) {\n      var key = \"f086697e\";\n      fetch(\"https://www.omdbapi.com/?i=tt3896198&apikey=\".concat(key, \"&type=movie&s=\").concat(inputValue, \"&page=\").concat(currentPage)).then(function (result) {\n        return result.json();\n      }).then(function (data) {\n        return data.Response === \"True\" ? dispatch({\n          type: \"FETCH_NEXT_PAGE\",\n          data: _toConsumableArray(data.Search)\n        }) : alert(\"Brak wynik贸w, spr贸buj ponownie.\");\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DisplaySection);","map":{"version":3,"sources":["/Users/matek/Desktop/myMovie/src/Components/sections/DisplaySection/DisplaySection.js"],"names":["React","useEffect","styled","MovieCard","InfiniteScroll","connect","StyledWrapper","section","DisplaySection","movies","inputValue","currentPage","setCurrentPage","fetchNextPage","undefined","map","movie","id","mapStateToProps","state","mapDispatchToProps","dispatch","length","type","number","key","fetch","then","result","json","data","Response","Search","alert","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport MovieCard from \"../../MovieCard/MovieCard\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport { connect } from \"react-redux\";\n\nconst StyledWrapper = styled.section`\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: relative;\n  background-color: rgb(10, 10, 10);\n  box-shadow: 0 0 40px -20px #000;\n  border-radius: 5px;\n  padding: 25px;\n\n  ul {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: space-around;\n    justify-content: space-around;\n    width: 100%;\n    padding: 0;\n  }\n`;\n\nconst DisplaySection = ({\n  movies,\n  inputValue,\n  currentPage,\n  setCurrentPage,\n  fetchNextPage\n}) => {\n  useEffect(() => {\n    setCurrentPage(movies, currentPage);\n  }, [movies]);\n  return (\n    <>\n      <StyledWrapper>\n        {movies !== undefined && (\n          <InfiniteScroll\n            element=\"ul\"\n            pageStart={0}\n            loadMore={() => fetchNextPage(inputValue, currentPage)}\n            hasMore={true || false}\n          >\n            {movies.map((movie, id) => (\n              <MovieCard id={id} movie={movie} />\n            ))}\n          </InfiniteScroll>\n        )}\n      </StyledWrapper>\n    </>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    movies: state.movies,\n    inputValue: state.inputValue,\n    currentPage: state.currentPage\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setCurrentPage: (movies, currentPage) => {\n      if (movies !== undefined && movies.length > 10) {\n        dispatch({ type: \"SET_CURRENT_PAGE\", number: currentPage + 1 });\n      } else if (movies !== undefined) {\n        dispatch({ type: \"SET_CURRENT_PAGE\", number: 2 });\n      } else {\n        dispatch({ type: \"SET_CURRENT_PAGE\", number: 1 });\n      }\n    },\n    fetchNextPage: (inputValue, currentPage) => {\n      const key = \"f086697e\";\n      fetch(\n        `https://www.omdbapi.com/?i=tt3896198&apikey=${key}&type=movie&s=${inputValue}&page=${currentPage}`\n      )\n        .then(result => result.json())\n        .then(data =>\n          data.Response === \"True\"\n            ? dispatch({ type: \"FETCH_NEXT_PAGE\", data: [...data.Search] })\n            : alert(\"Brak wynik贸w, spr贸buj ponownie.\")\n        )\n        .catch(err => console.log(err));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DisplaySection);\n"]},"metadata":{},"sourceType":"module"}