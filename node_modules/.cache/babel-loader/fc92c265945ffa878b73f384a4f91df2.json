{"ast":null,"code":"import _toConsumableArray from \"/Users/matek/Desktop/myMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _taggedTemplateLiteral from \"/Users/matek/Desktop/myMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/matek/Desktop/myMovie/src/Components/sections/DisplaySection/DisplaySection.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  position: relative;\\n  background-color: rgb(10, 10, 10);\\n  box-shadow: 0 0 40px -20px #000;\\n  border-radius: 5px;\\n  padding: 25px;\\n\\n  ul {\\n    display: flex;\\n    flex-wrap: wrap;\\n    align-items: space-around;\\n    justify-content: space-around;\\n    width: 100%;\\n    padding: 0;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport MovieCard from \"../../MovieCard/MovieCard\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport { connect } from \"react-redux\";\nvar StyledWrapper = styled.section(_templateObject());\n\nvar DisplaySection = function DisplaySection(_ref) {\n  var movies = _ref.movies,\n      inputValue = _ref.inputValue,\n      currentPage = _ref.currentPage,\n      setCurrentPage = _ref.setCurrentPage,\n      fetchNextPage = _ref.fetchNextPage,\n      infiniteScrollMovies = _ref.infiniteScrollMovies;\n  useEffect(function () {\n    setCurrentPage(infiniteScrollMovies, currentPage);\n  }, [infiniteScrollMovies]);\n  return React.createElement(React.Fragment, null, React.createElement(StyledWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, infiniteScrollMovies !== undefined && React.createElement(InfiniteScroll, {\n    element: \"ul\",\n    pageStart: 0,\n    loadMore: fetchNextPage(inputValue, currentPage),\n    hasMore: true || false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, console.log(currentPage), console.log(movies), infiniteScrollMovies.map(function (movie, id) {\n    return React.createElement(MovieCard, {\n      id: id,\n      movie: movie,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    });\n  }))));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    movies: state.movies,\n    inputValue: state.inputValue,\n    currentPage: state.currentPage,\n    infiniteScrollMovies: state.infiniteScrollMovies\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setCurrentPage: function setCurrentPage(infiniteScrollMovies, currentPage) {\n      if (infiniteScrollMovies !== undefined && infiniteScrollMovies.length > 10) {\n        dispatch({\n          type: \"SET_CURRENT_PAGE\",\n          number: currentPage + 1\n        });\n      } else if (infiniteScrollMovies !== undefined) {\n        dispatch({\n          type: \"SET_CURRENT_PAGE\",\n          number: 2\n        });\n      } else {\n        dispatch({\n          type: \"SET_CURRENT_PAGE\",\n          number: 1\n        });\n      }\n    },\n    fetchNextPage: function fetchNextPage(inputValue, currentPage) {\n      var key = \"f086697e\";\n      fetch(\"https://www.omdbapi.com/?i=tt3896198&apikey=\".concat(key, \"&type=movie&s=\").concat(inputValue, \"&page=\").concat(currentPage)).then(function (result) {\n        return result.json();\n      }).then(function (data) {\n        return dispatch({\n          type: \"FETCH_NEXT_PAGE\",\n          data: _toConsumableArray(data.Search)\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DisplaySection);","map":{"version":3,"sources":["/Users/matek/Desktop/myMovie/src/Components/sections/DisplaySection/DisplaySection.js"],"names":["React","useEffect","styled","MovieCard","InfiniteScroll","connect","StyledWrapper","section","DisplaySection","movies","inputValue","currentPage","setCurrentPage","fetchNextPage","infiniteScrollMovies","undefined","console","log","map","movie","id","mapStateToProps","state","mapDispatchToProps","dispatch","length","type","number","key","fetch","then","result","json","data","Search","catch","err"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport MovieCard from \"../../MovieCard/MovieCard\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport { connect } from \"react-redux\";\n\nconst StyledWrapper = styled.section`\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: relative;\n  background-color: rgb(10, 10, 10);\n  box-shadow: 0 0 40px -20px #000;\n  border-radius: 5px;\n  padding: 25px;\n\n  ul {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: space-around;\n    justify-content: space-around;\n    width: 100%;\n    padding: 0;\n  }\n`;\n\nconst DisplaySection = ({\n  movies,\n  inputValue,\n  currentPage,\n  setCurrentPage,\n  fetchNextPage,\n  infiniteScrollMovies\n}) => {\n  useEffect(() => {\n    setCurrentPage(infiniteScrollMovies, currentPage);\n  }, [infiniteScrollMovies]);\n  return (\n    <>\n      <StyledWrapper>\n        {infiniteScrollMovies !== undefined && (\n          <InfiniteScroll\n            element=\"ul\"\n            pageStart={0}\n            loadMore={fetchNextPage(inputValue, currentPage)}\n            hasMore={true || false}\n          >\n            {console.log(currentPage)}\n            {console.log(movies)}\n            {infiniteScrollMovies.map((movie, id) => (\n              <MovieCard id={id} movie={movie} />\n            ))}\n          </InfiniteScroll>\n        )}\n      </StyledWrapper>\n    </>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    movies: state.movies,\n    inputValue: state.inputValue,\n    currentPage: state.currentPage,\n    infiniteScrollMovies: state.infiniteScrollMovies\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setCurrentPage: (infiniteScrollMovies, currentPage) => {\n      if (\n        infiniteScrollMovies !== undefined &&\n        infiniteScrollMovies.length > 10\n      ) {\n        dispatch({ type: \"SET_CURRENT_PAGE\", number: currentPage + 1 });\n      } else if (infiniteScrollMovies !== undefined) {\n        dispatch({ type: \"SET_CURRENT_PAGE\", number: 2 });\n      } else {\n        dispatch({ type: \"SET_CURRENT_PAGE\", number: 1 });\n      }\n    },\n    fetchNextPage: (inputValue, currentPage) => {\n      const key = \"f086697e\";\n      fetch(\n        `https://www.omdbapi.com/?i=tt3896198&apikey=${key}&type=movie&s=${inputValue}&page=${currentPage}`\n      )\n        .then(result => result.json())\n        .then(data =>\n          dispatch({ type: \"FETCH_NEXT_PAGE\", data: [...data.Search] })\n        )\n        .catch(err => console.log(err));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DisplaySection);\n"]},"metadata":{},"sourceType":"module"}