{"ast":null,"code":"import _toConsumableArray from \"/Users/matek/Desktop/myMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/matek/Desktop/myMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/matek/Desktop/myMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/matek/Desktop/myMovie/src/Components/sections/DisplaySection/DisplaySection.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  position: relative;\\n  background-color: rgb(10, 10, 10);\\n  box-shadow: 0 0 40px -20px #000;\\n  border-radius: 5px;\\n  padding: 25px;\\n\\n  ul {\\n    display: flex;\\n    flex-wrap: wrap;\\n    align-items: space-around;\\n    justify-content: space-around;\\n    width: 100%;\\n    padding: 0;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport MovieCard from \"../../MovieCard/MovieCard\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport { connect } from \"react-redux\";\nvar StyledWrapper = styled.section(_templateObject());\n\nvar DisplaySection = function DisplaySection(_ref) {\n  var movies = _ref.movies,\n      inputValue = _ref.inputValue;\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentPage = _useState2[0],\n      setCurrentPage = _useState2[1];\n\n  useEffect(function () {\n    if (movies !== undefined && movies.length > 10) {\n      setCurrentPage(currentPage + 1);\n    } else if (movies !== undefined) {\n      setCurrentPage(2);\n    } else {\n      setCurrentPage(1);\n    }\n  }, [movies]);\n  return React.createElement(React.Fragment, null, React.createElement(StyledWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, movies !== undefined && React.createElement(InfiniteScroll, {\n    element: \"ul\",\n    pageStart: 0,\n    loadMore: function loadMore() {\n      var key = \"f086697e\";\n      fetch(\"https://www.omdbapi.com/?i=tt3896198&apikey=\".concat(key, \"&type=movie&s=\").concat(inputValue, \"&page=\").concat(currentPage)).then(function (result) {\n        return result.json();\n      }).then(function (data) {\n        return setFiltered(movies.concat(_toConsumableArray(data.Search)));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    },\n    hasMore: true || false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, movies.map(function (movie, id) {\n    return React.createElement(MovieCard, {\n      id: id,\n      movie: movie,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    });\n  }))));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    movies: state.movies,\n    inputValue: state.inputValue\n  };\n};\n\nexport default connect(mapStateToProps)(DisplaySection);","map":{"version":3,"sources":["/Users/matek/Desktop/myMovie/src/Components/sections/DisplaySection/DisplaySection.js"],"names":["React","useState","useEffect","styled","MovieCard","InfiniteScroll","connect","StyledWrapper","section","DisplaySection","movies","inputValue","currentPage","setCurrentPage","undefined","length","key","fetch","then","result","json","data","setFiltered","concat","Search","catch","err","console","log","map","movie","id","mapStateToProps","state"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,cAAP,MAA2B,yBAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,IAAMC,aAAa,GAAGJ,MAAM,CAACK,OAAV,mBAAnB;;AAoBA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAA4B;AAAA,MAAzBC,MAAyB,QAAzBA,MAAyB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;;AAAA,kBACbV,QAAQ,CAAC,CAAD,CADK;AAAA;AAAA,MAC5CW,WAD4C;AAAA,MAC/BC,cAD+B;;AAGjDX,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIQ,MAAM,KAAKI,SAAX,IAAwBJ,MAAM,CAACK,MAAP,GAAgB,EAA5C,EAAgD;AAC9CF,MAAAA,cAAc,CAACD,WAAW,GAAG,CAAf,CAAd;AACD,KAFD,MAEO,IAAIF,MAAM,KAAKI,SAAf,EAA0B;AAC/BD,MAAAA,cAAc,CAAC,CAAD,CAAd;AACD,KAFM,MAEA;AACLA,MAAAA,cAAc,CAAC,CAAD,CAAd;AACD;AACF,GARQ,EAQN,CAACH,MAAD,CARM,CAAT;AAUA,SACE,0CACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,MAAM,KAAKI,SAAX,IACC,oBAAC,cAAD;AACE,IAAA,OAAO,EAAC,IADV;AAEE,IAAA,SAAS,EAAE,CAFb;AAGE,IAAA,QAAQ,EAAE,oBAAM;AACd,UAAME,GAAG,GAAG,UAAZ;AACAC,MAAAA,KAAK,uDAC4CD,GAD5C,2BACgEL,UADhE,mBACmFC,WADnF,EAAL,CAGGM,IAHH,CAGQ,UAAAC,MAAM;AAAA,eAAIA,MAAM,CAACC,IAAP,EAAJ;AAAA,OAHd,EAIGF,IAJH,CAIQ,UAAAG,IAAI;AAAA,eAAIC,WAAW,CAACZ,MAAM,CAACa,MAAP,oBAAkBF,IAAI,CAACG,MAAvB,EAAD,CAAf;AAAA,OAJZ,EAKGC,KALH,CAKS,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OALZ;AAMD,KAXH;AAYE,IAAA,OAAO,EAAE,QAAQ,KAZnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAcGhB,MAAM,CAACmB,GAAP,CAAW,UAACC,KAAD,EAAQC,EAAR;AAAA,WACV,oBAAC,SAAD;AAAW,MAAA,EAAE,EAAEA,EAAf;AAAmB,MAAA,KAAK,EAAED,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADU;AAAA,GAAX,CAdH,CAFJ,CADF,CADF;AA0BD,CAvCD;;AAyCA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC/B,SAAO;AACLvB,IAAAA,MAAM,EAAEuB,KAAK,CAACvB,MADT;AAELC,IAAAA,UAAU,EAAEsB,KAAK,CAACtB;AAFb,GAAP;AAID,CALD;;AAOA,eAAeL,OAAO,CAAC0B,eAAD,CAAP,CAAyBvB,cAAzB,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport MovieCard from \"../../MovieCard/MovieCard\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport { connect } from \"react-redux\";\n\nconst StyledWrapper = styled.section`\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: relative;\n  background-color: rgb(10, 10, 10);\n  box-shadow: 0 0 40px -20px #000;\n  border-radius: 5px;\n  padding: 25px;\n\n  ul {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: space-around;\n    justify-content: space-around;\n    width: 100%;\n    padding: 0;\n  }\n`;\n\nconst DisplaySection = ({ movies, inputValue }) => {\n  let [currentPage, setCurrentPage] = useState(1);\n\n  useEffect(() => {\n    if (movies !== undefined && movies.length > 10) {\n      setCurrentPage(currentPage + 1);\n    } else if (movies !== undefined) {\n      setCurrentPage(2);\n    } else {\n      setCurrentPage(1);\n    }\n  }, [movies]);\n\n  return (\n    <>\n      <StyledWrapper>\n        {movies !== undefined && (\n          <InfiniteScroll\n            element=\"ul\"\n            pageStart={0}\n            loadMore={() => {\n              const key = \"f086697e\";\n              fetch(\n                `https://www.omdbapi.com/?i=tt3896198&apikey=${key}&type=movie&s=${inputValue}&page=${currentPage}`\n              )\n                .then(result => result.json())\n                .then(data => setFiltered(movies.concat([...data.Search])))\n                .catch(err => console.log(err));\n            }}\n            hasMore={true || false}\n          >\n            {movies.map((movie, id) => (\n              <MovieCard id={id} movie={movie} />\n            ))}\n          </InfiniteScroll>\n        )}\n      </StyledWrapper>\n    </>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    movies: state.movies,\n    inputValue: state.inputValue\n  };\n};\n\nexport default connect(mapStateToProps)(DisplaySection);\n"]},"metadata":{},"sourceType":"module"}