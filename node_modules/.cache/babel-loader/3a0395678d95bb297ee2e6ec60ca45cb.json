{"ast":null,"code":"import _toConsumableArray from \"/Users/matek/Desktop/myMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/matek/Desktop/myMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/matek/Desktop/myMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/matek/Desktop/myMovie/src/Components/DisplaySection/DisplaySection.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  position: relative;\\n  background-color: rgb(10, 10, 10);\\n  box-shadow: 0 0 40px -20px #000;\\n  border-radius: 5px;\\n  padding: 25px;\\n\\n  ul {\\n    display: flex;\\n    flex-wrap: wrap;\\n    align-items: space-around;\\n    justify-content: space-around;\\n    width: 100%;\\n    padding: 0;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport MovieCard from \"../MovieCard\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nvar StyledWrapper = styled.section(_templateObject());\n\nvar DisplaySection = function DisplaySection(_ref) {\n  var filteredMovies = _ref.filteredMovies,\n      setFilteredMovies = _ref.setFilteredMovies,\n      currentSearch = _ref.currentSearch;\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentPage = _useState2[0],\n      setCurrentPage = _useState2[1];\n\n  useEffect(function () {\n    if (filteredMovies !== undefined && filteredMovies.length > 10) {\n      setCurrentPage(currentPage + 1);\n    } else if (filteredMovies !== undefined) {\n      setCurrentPage(2);\n    } else {\n      setCurrentPage(1);\n    }\n  }, [filteredMovies]);\n  return React.createElement(React.Fragment, null, React.createElement(StyledWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, filteredMovies !== undefined && React.createElement(InfiniteScroll, {\n    element: \"ul\",\n    pageStart: 0,\n    loadMore: function loadMore() {\n      var key = \"f086697e\";\n      fetch(\"https://www.omdbapi.com/?i=tt3896198&apikey=\".concat(key, \"&type=movie&s=\").concat(currentSearch, \"&page=\").concat(currentPage)).then(function (result) {\n        return result.json();\n      }).then(function (data) {\n        return setFilteredMovies(filteredMovies.concat(_toConsumableArray(data.Search)));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    },\n    hasMore: true || false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, filteredMovies.map(function (movie, id) {\n    return React.createElement(MovieCard, {\n      id: id,\n      movie: movie,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    });\n  }))));\n};\n\nexport default DisplaySection;","map":{"version":3,"sources":["/Users/matek/Desktop/myMovie/src/Components/DisplaySection/DisplaySection.js"],"names":["React","useState","useEffect","styled","MovieCard","InfiniteScroll","StyledWrapper","section","DisplaySection","filteredMovies","setFilteredMovies","currentSearch","currentPage","setCurrentPage","undefined","length","key","fetch","then","result","json","data","concat","Search","catch","err","console","log","map","movie","id"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,cAAP,MAA2B,yBAA3B;AAEA,IAAMC,aAAa,GAAGH,MAAM,CAACI,OAAV,mBAAnB;;AAoBA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAIjB;AAAA,MAHJC,cAGI,QAHJA,cAGI;AAAA,MAFJC,iBAEI,QAFJA,iBAEI;AAAA,MADJC,aACI,QADJA,aACI;;AAAA,kBACgCV,QAAQ,CAAC,CAAD,CADxC;AAAA;AAAA,MACCW,WADD;AAAA,MACcC,cADd;;AAGJX,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIO,cAAc,KAAKK,SAAnB,IAAgCL,cAAc,CAACM,MAAf,GAAwB,EAA5D,EAAgE;AAC9DF,MAAAA,cAAc,CAACD,WAAW,GAAG,CAAf,CAAd;AACD,KAFD,MAEO,IAAIH,cAAc,KAAKK,SAAvB,EAAkC;AACvCD,MAAAA,cAAc,CAAC,CAAD,CAAd;AACD,KAFM,MAEA;AACLA,MAAAA,cAAc,CAAC,CAAD,CAAd;AACD;AACF,GARQ,EAQN,CAACJ,cAAD,CARM,CAAT;AAUA,SACE,0CACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,cAAc,KAAKK,SAAnB,IACC,oBAAC,cAAD;AACE,IAAA,OAAO,EAAC,IADV;AAEE,IAAA,SAAS,EAAE,CAFb;AAGE,IAAA,QAAQ,EAAE,oBAAM;AACd,UAAME,GAAG,GAAG,UAAZ;AACAC,MAAAA,KAAK,uDAC4CD,GAD5C,2BACgEL,aADhE,mBACsFC,WADtF,EAAL,CAGGM,IAHH,CAGQ,UAAAC,MAAM;AAAA,eAAIA,MAAM,CAACC,IAAP,EAAJ;AAAA,OAHd,EAIGF,IAJH,CAIQ,UAAAG,IAAI;AAAA,eACRX,iBAAiB,CAACD,cAAc,CAACa,MAAf,oBAA0BD,IAAI,CAACE,MAA/B,EAAD,CADT;AAAA,OAJZ,EAOGC,KAPH,CAOS,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OAPZ;AAQD,KAbH;AAcE,IAAA,OAAO,EAAE,QAAQ,KAdnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAgBGhB,cAAc,CAACmB,GAAf,CAAmB,UAACC,KAAD,EAAQC,EAAR;AAAA,WAClB,oBAAC,SAAD;AAAW,MAAA,EAAE,EAAEA,EAAf;AAAmB,MAAA,KAAK,EAAED,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADkB;AAAA,GAAnB,CAhBH,CAFJ,CADF,CADF;AA4BD,CA7CD;;AA+CA,eAAerB,cAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport MovieCard from \"../MovieCard\";\nimport InfiniteScroll from \"react-infinite-scroller\";\n\nconst StyledWrapper = styled.section`\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: relative;\n  background-color: rgb(10, 10, 10);\n  box-shadow: 0 0 40px -20px #000;\n  border-radius: 5px;\n  padding: 25px;\n\n  ul {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: space-around;\n    justify-content: space-around;\n    width: 100%;\n    padding: 0;\n  }\n`;\n\nconst DisplaySection = ({\n  filteredMovies,\n  setFilteredMovies,\n  currentSearch\n}) => {\n  let [currentPage, setCurrentPage] = useState(1);\n\n  useEffect(() => {\n    if (filteredMovies !== undefined && filteredMovies.length > 10) {\n      setCurrentPage(currentPage + 1);\n    } else if (filteredMovies !== undefined) {\n      setCurrentPage(2);\n    } else {\n      setCurrentPage(1);\n    }\n  }, [filteredMovies]);\n\n  return (\n    <>\n      <StyledWrapper>\n        {filteredMovies !== undefined && (\n          <InfiniteScroll\n            element=\"ul\"\n            pageStart={0}\n            loadMore={() => {\n              const key = \"f086697e\";\n              fetch(\n                `https://www.omdbapi.com/?i=tt3896198&apikey=${key}&type=movie&s=${currentSearch}&page=${currentPage}`\n              )\n                .then(result => result.json())\n                .then(data =>\n                  setFilteredMovies(filteredMovies.concat([...data.Search]))\n                )\n                .catch(err => console.log(err));\n            }}\n            hasMore={true || false}\n          >\n            {filteredMovies.map((movie, id) => (\n              <MovieCard id={id} movie={movie} />\n            ))}\n          </InfiniteScroll>\n        )}\n      </StyledWrapper>\n    </>\n  );\n};\n\nexport default DisplaySection;\n"]},"metadata":{},"sourceType":"module"}